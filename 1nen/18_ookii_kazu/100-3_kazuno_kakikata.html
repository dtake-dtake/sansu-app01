<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>かずの　かきかた</title>

  <!-- 共通スタイル -->
  <link rel="stylesheet" href="common.css" />
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.3/dist/confetti.browser.min.js"></script>

  <!-- このドリルだけの軽い見た目調整（任意） -->
  <style>
  /* --- 追加/上書き（このドリル専用） --- */

  /* 親：番号+本文の並びをflexに（念のため明示） */
  #problems-wrapper .problem-content{
    display:flex;
    align-items:flex-start;
  }

  /* 式ブロック：折り返し可能にするキモは min-width:0 と flex:1 1 auto */
  #problems-wrapper .problem-equation{
    flex: 1 1 auto;     /* 親の中で縮んでOK */
    min-width: 0;       /* これが無いと折り返し前にオーバーフローしがち */
    display:flex;
    flex-wrap:wrap;     /* はみ出す前に改行 */
    align-items:center;
    gap:.4em .6em;
    white-space:normal;         /* 既存のnowrapを打ち消す */
    overflow-wrap:anywhere;     /* どうしても長い語があれば分割 */
  }

  /* ラベル/数字の塊は1ユニットとして扱う */
  .place-label, .place-num { flex:0 0 auto; }

  /* 解答欄の幅（2けた想定） */
  #problems-wrapper .problem-equation input[type="number"]{
    width:4em;
    text-align:center;
  }

  /* --- 数字まわりをコンパクトに --- */
  #problems-wrapper .problem-equation{
    gap: .2em .3em;      /* もともと .4em .6em → 少し狭く */
  }
  .place-num{
    display:inline-block;
    min-width: 1ch;      /* 1文字ぶんだけ確保（必要最低限） */
    padding: 0 .1em;     /* 横の余白をほんの少しだけに */
    line-height: 1.2;
  }
  .place-label{
    margin: 0;           /* 念のためラベル側の余白もゼロ基準に */
  }

  /* 解答欄（2けた想定）も少しだけ細身に */
  #problems-wrapper .problem-equation input[type="number"]{
    width: 3.2em;        /* 4em → 3.2em に */
    text-align: center;
    padding: 2px;
  }

  /* 日本語の約物を詰め気味に（対応フォントなら効く） */
  #problems-wrapper .problem-equation{
    font-feature-settings: "palt" 1;  /* プロポーショナル和文用字形 */
  }
/* ▼ このドリルの problem-equation 内の span の余白を全部ゼロに */
#problems-wrapper .problem-equation > span,
#problems-wrapper .problem-equation .place-label,
#problems-wrapper .problem-equation .place-num{
  margin: 0 !important;
  padding: 0 !important;   /* 数字の横の“ちょい広め”も消す */
}

/* ▼ 行内アイテム間の隙間もさらに小さく */
#problems-wrapper .problem-equation{
  gap: .12em .2em;         /* 以前 .2em .3em → もう一段だけ詰める */
  font-feature-settings: "palt" 1; /* 対応フォントなら約物も詰まる */
}

/* ▼ 数字とラベルは“塊”のまま（折り畳まれない） */
.place-label, .place-num{ flex:0 0 auto; }

/* ▼ 入力欄は2ケタ想定で細く（必要に応じて 2.8ch などへ） */
#problems-wrapper .problem-equation input[type="number"]{
  width: 3ch;              /* 3ch ≒ 数字3文字ぶんの幅 */
  text-align: center;
  padding: 2px;
}

</style>
</head>
<body>
  <!-- h1 は common.js の既定（未実装） -->
  <h1 id="main-title"></h1>
  <h2 id="sub-title"></h2>

  <div id="start-area" style="text-align:center; margin:40px 0;">
    <button id="start-btn">スタート！</button>
  </div>

  <div id="problems-section" style="display:none;">
    <div id="problems-wrapper"></div>
    <div class="button-area">
      <button id="check-answers">まるつけ</button>
      <button id="retry">もういちど</button>
    </div>
  </div>

  <div id="result-area">
    <div id="result"></div>
    <div id="highScoreArea">ハイスコア：<span id="highScoreValue">0</span> てん <button id="reset-highscore">リセット</button></div>
    <div id="dailyCountArea">今日のクリア：<span id="dailyCountValue">0</span> かい</div>
    <div id="monthlyCountArea">今月のクリア：<span id="monthlyCountValue">0</span> かい</div>
    <div id="clearCountArea">合計クリア：<span id="clearCountValue">0</span> かい</div>
    <div id="overallStatusArea"><span id="overallStatusText">ステータス：</span><span id="overallStars" class="status-stars">―</span></div>
    <div id="history-area">りれき（１０件）<br><ul id="history-list"></ul></div>
  </div>

  <!-- 共通ロジック -->
  <script src="themes.js"></script>
  <script src="common.js"></script>

  <!-- このドリル固有 -->
  <script src="100-3_kazuno_kakikata.js"></script>
</body>
</html>
